<!DOCTYPE HTML>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<meta charset="utf-8">
<head th:include="include :: header"></head>
<body class="gray-bg">

<div class="container-div">
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="order" style="width: 600px;height:400px;"></div>
</div>
<div th:include="include :: footer"></div>
<script th:src="@{/fac/fac_common.js}"></script>
<script th:src="@{/echarts/echarts.min.js}"></script>
<script th:inline="javascript">
    var prefix = ctx + "fac/order";

    var initOrderStatic = function () {
        var url = prefix + "/queryRecentOrderInfo";

        $.get(url, function (data) {
            var xAxisData = data.xAxisData;
            var seriesOrderAmount = data.seriesOrderAmount;
            var seriesOrderCount = data.seriesOrderCount;
            orderOption.xAxis[0].data = xAxisData;
            orderOption.xAxis[1].data = xAxisData;
            orderOption.series[0].data = seriesOrderAmount;
            orderOption.series[1].data = seriesOrderCount;

            // 基于准备好的dom，初始化echarts实例
            var myChart = echarts.init(document.getElementById('order'));
            // 使用刚指定的配置项和数据显示图表。
            myChart.setOption(orderOption);
        }, null, null, "正在处理，请稍后...");
    }

    $(function () {
        // 订单统计相关数据展示
        initOrderStatic();
    });
</script>
</body>
</html>